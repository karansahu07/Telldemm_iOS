


<!-- <ion-content [fullscreen]="true">
  <div class="center-content">
  <ion-avatar class="avatar">
    <img src="assets/images/cameraplus.png" alt="User Avatar" />
  </ion-avatar>


  <ion-label class="username">
    {{ isGroup ? 'Group Chat' : receiver_name }}
  </ion-label>

 
  <ion-label class="usernumber">
    {{ receiver_phone }}
  </ion-label>
</div>


  <div class="message-toolbar" style="margin-top: 15px; margin-bottom: 15px;">

    <div class="message-item">
      <ion-avatar class="centered-avatar">
        <ion-icon name="chatbox-ellipses-outline" class="mess-icon"></ion-icon>
      </ion-avatar>
      <ion-label>Message</ion-label>
    </div>

    <div class="message-item">
      <ion-avatar class="centered-avatar">
        <ion-icon name="call-outline" class="mess-icon"></ion-icon>
      </ion-avatar>
      <ion-label>Call</ion-label>
    </div>

    <div class="message-item">
      <ion-avatar class="centered-avatar">
        <ion-icon name="videocam-outline" class="mess-icon"></ion-icon>
      </ion-avatar>
      <ion-label>Video</ion-label>
    </div>

  </div>

  <div class=" what-mess">
    <p class="messgae-chat">Hey there! i am using WhatsApp.</p>
    <p class="message-number">23 March 2024</p>
  </div>

  <div class="main-media">
    <div class="all-media">
      <p class="docs">Media, Links, and docs</p>
      <div class="media-count">
         <ion-button fill="clear" routerLink="/" class="no-decoration">20</ion-button>
        <ion-icon name="chevron-forward-outline"></ion-icon>
      </div>
    </div>

    <swiper-container 
  [attr.slides-per-view]="4" 
  [attr.space-between]="10" 
  class="slider"
>
  <swiper-slide 
    *ngFor="let item of [].constructor(15)" 
    class="slider-swip"
  >
    <div class="image-wrapper">
      <img src="assets/images/chacha.jpeg" alt="Rectangle-img" />
    </div>
  </swiper-slide>
</swiper-container>

  </div>

  <ion-list lines="none" class="noti-list">
    <ion-item>
      <ion-icon name="notifications-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">Notifications</ion-label>
    </ion-item>

    <ion-item>
      <ion-icon name="image-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">Media Visibility</ion-label>
    </ion-item>
  </ion-list>

  <ion-list lines="none" class="noti-list">
    <ion-item class="jha">
      <ion-icon name="lock-closed-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label>
        <div>
          <div class="Encry">
            Encryption
          </div>
          <div class="encrypted">
            Messages and calls are end-to-end encrypted. Tap to verify.
          </div>
        </div>
      </ion-label>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="timer-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">Disappering messages</ion-label>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="lock-closed-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label>
        <div>
          <div class="Encry">
            Chat lock
          </div>
          <div class="encrypted">
            Lock and hide this chat on this devic.
          </div>
        </div>
      </ion-label>
      <ion-icon name="toggle-outline" class="all-icon"></ion-icon>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="shield-half-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label>
        <div>
          <div class="Encry">Advanced Chat Privacy</div>
          <div class="encrypted">off</div>
        </div>
      </ion-label>
    </ion-item>
  </ion-list>


  <ion-list lines="none" class="noti-list">

    <ion-label class="total-group">2 Group in Common</ion-label>

    <ion-item class="jha">

      <ion-icon name="person-outline" class="all-icon" slot="start"></ion-icon>
      <ion-label class="Encry">Create group with user
      </ion-label>
    </ion-item>

    <ion-item class="jha">
     
      <ion-icon name="person-outline" class="all-icon" slot="start"></ion-icon>
      <ion-label>
        <div>
          <div class="Encry">
            Group No.1
          </div>
          <div  class="encrypted">
            Create group with member
          </div>
        </div>
      </ion-label>
    </ion-item>

    <ion-item class="jha">
     
      <ion-icon name="person-outline" class="all-icon" slot="start"></ion-icon>
      <ion-label>
        <div>
          <div class="Encry">
            Group No.1
          </div>
          <div  class="encrypted">
            Create group with member
          </div>
        </div>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-list lines="none" class="noti-list">

    <ion-item class="jha">
      <ion-icon name="heart-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">
        Add to Favourites
      </ion-label>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="person-add-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">
        Add to list
      </ion-label>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="ban-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">
        Block user
      </ion-label>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="thumbs-down-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">
        Report user
      </ion-label>
    </ion-item>

  </ion-list>


</ion-content> -->


<!-- <ion-header [translucent]="true">
  <ion-toolbar style="padding-top: 30px;">
    <ion-buttons slot="start">
      <ion-button fill="clear" (click)="goBackToChat()">
        <ion-icon name="arrow-back-outline" class="back-icon"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button fill="clear" (click)="openMenu($event)">
        <ion-icon name="ellipsis-vertical" class="dot-icon"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header> -->

<ion-header [translucent]="true" [class.scrolled]="isScrolled">

  <ion-toolbar>
    
    <ion-button slot="start" fill="clear" (click)="goBackToChat()" class="backbutton">
      <ion-icon name="arrow-back-outline" class="back-icon"></ion-icon>
    </ion-button>

    <ion-button slot="end" fill="clear" (click)="openMenu($event)" class="dotbutton">
      <ion-icon name="ellipsis-vertical" class="dot-icon"></ion-icon>
    </ion-button>

    <div class="profile-container">
      <ion-avatar class="profile-avatar">
        <img src="assets/images/user.jfif" alt="Profile Picture" />
      </ion-avatar>
      <ion-label class="profile-name"> {{ isGroup ? groupName : receiver_name }}</ion-label>
    </div>

  </ion-toolbar>

</ion-header>

<ion-content [[fullscreen]="true"  (ionScroll)="onScroll($event)" scrollEvents="true">
  <div class="center-content">
    <!-- <ion-avatar class="avatar">
      <img src="assets/images/cameraplus.png" alt="User Avatar" />
    </ion-avatar> -->

    <ion-label class="username">
      {{ isGroup ? groupName : receiver_name }}
    </ion-label>

    <ion-label class="usernumber">
      {{ receiver_phone }}
    </ion-label>
  </div>

  <!-- Common Message Toolbar -->
  <div class="message-toolbar" style="margin-top: 15px; margin-bottom: 15px;">
    <div class="message-item" *ngIf="chatType === 'private'" (click)="goBackToChat()">
      <ion-avatar class="centered-avatar">
        <ion-icon name="chatbox-ellipses-outline" class="mess-icon"></ion-icon>
      </ion-avatar>
      <ion-label>Message</ion-label>
    </div>

    <div class="message-item">
      <ion-avatar class="centered-avatar">
        <ion-icon name="call-outline" class="mess-icon"></ion-icon>
      </ion-avatar>
      <ion-label>Call</ion-label>
    </div>

    <div class="message-item">
      <ion-avatar class="centered-avatar">
        <ion-icon name="videocam-outline" class="mess-icon"></ion-icon>
      </ion-avatar>
      <ion-label>Video</ion-label>
    </div>

    <div class="message-item" *ngIf="chatType === 'group'" (click)="onAddMember()">
  <ion-avatar class="centered-avatar">
    <ion-icon name="person-add-outline" class="all-icon1"></ion-icon>
  </ion-avatar>
  <ion-label>Add</ion-label>
</div>


  </div>

  <!-- Private Chat Static Message -->
  <div class="what-mess" *ngIf="chatType === 'private'">
    <p class="messgae-chat">Hey there! I am using WhatsApp.</p>
    <p class="message-number">23 March 2024</p>
  </div>

  <!-- Media Section (Common) -->
  <div class="main-media">
    <div class="all-media">
      <p class="docs">Media, Links, and docs</p>
      <div class="media-count">
        <ion-button fill="clear" routerLink="/" class="no-decoration">20</ion-button>
        <ion-icon name="chevron-forward-outline"></ion-icon>
      </div>
    </div>

    <!-- Swiper Gallery -->
    <swiper-container [attr.slides-per-view]="4" [attr.space-between]="10" class="slider">
      <swiper-slide *ngFor="let item of [].constructor(15)" class="slider-swip">
        <div class="image-wrapper">
          <img src="assets/images/user.jfif" alt="Rectangle-img" />
        </div>
      </swiper-slide>
    </swiper-container>
  </div>

  <!-- Notification Section (Common) -->
  <ion-list lines="none" class="noti-list">
    <ion-item>
      <ion-icon name="notifications-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">Notifications</ion-label>
    </ion-item>

    <ion-item>
      <ion-icon name="image-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">Media Visibility</ion-label>
    </ion-item>
  </ion-list>

  <!-- Encryption and Privacy Settings (Only for Private Chat) -->
  <ion-list lines="none" class="noti-list" *ngIf="chatType === 'private'">
    <ion-item class="jha">
      <ion-icon name="lock-closed-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label>
        <div>
          <div class="Encry">Encryption</div>
          <div class="encrypted">Messages and calls are end-to-end encrypted. Tap to verify.</div>
        </div>
      </ion-label>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="timer-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">Disappearing messages</ion-label>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="lock-closed-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label>
        <div>
          <div class="Encry">Chat lock</div>
          <div class="encrypted">Lock and hide this chat on this device.</div>
        </div>
      </ion-label>
      <ion-icon name="toggle-outline" class="all-icon"></ion-icon>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="shield-half-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label>
        <div>
          <div class="Encry">Advanced Chat Privacy</div>
          <div class="encrypted">Off</div>
        </div>
      </ion-label>
    </ion-item>
  </ion-list>

  <!-- private Info Section (Only for private Chat) -->
  <ion-list lines="none" class="noti-list" *ngIf="chatType === 'private'">
    <ion-label class="total-group">2 Groups in Common</ion-label>

    <ion-item class="jha">
      <ion-icon name="person-outline" class="all-icon" slot="start"></ion-icon>
      <ion-label class="Encry">Create group with user</ion-label>
    </ion-item>

    <ion-item class="jha" *ngFor="let group of [1, 2]">
      <ion-icon name="people-outline" class="all-icon" slot="start"></ion-icon>
      <ion-label>
        <div>
          <div class="Encry">Group No.{{ group }}</div>
          <div class="encrypted">Create group with members</div>
        </div>
      </ion-label>
    </ion-item>
  </ion-list>

  <!-- Group Members Section -->
<ion-list *ngIf="chatType === 'group'" lines="none" class="noti-list">
  <ion-item>
    <ion-icon name="people-outline" slot="start" class="all-icon"></ion-icon>
    <ion-label class="Encry">
      Group Members ({{ groupMembers.length }})
    </ion-label>
  </ion-item>
  <ion-item>
    <ion-button fill="clear" slot="start" (click)="onAddMember()">
      <ion-icon name="person-add-outline" slot="start" class="all-icon1"></ion-icon>
    </ion-button>
    <ion-label class="Encry" (click)="onAddMember()">
      Add Members
    </ion-label>
  </ion-item>

  

  <ion-item *ngFor="let member of groupMembers">
  <ion-avatar slot="start">
    <img [src]="member.avatar || 'assets/images/user.jfif'" />
  </ion-avatar>

  <ion-label>
    <div class="Encry">{{ member.name }}</div>
    <div class="encrypted">{{ member.phone }}</div>
  </ion-label>

  <!-- Show 3-dot menu ONLY if it's NOT the current user -->
  <ion-buttons slot="end" *ngIf="member.user_id !== currentUserId">
    <ion-button fill="clear" (click)="openActionSheet(member)">
      <ion-icon name="ellipsis-vertical"></ion-icon>
    </ion-button>
  </ion-buttons>
</ion-item>


</ion-list>

  <!-- User Management Options (Common) -->
  <ion-list lines="none" class="noti-list">
    <ion-item class="jha">
      <ion-icon name="heart-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">Add to Favourites</ion-label>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="person-add-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">Add to list</ion-label>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="ban-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">Block user</ion-label>
    </ion-item>

    <ion-item class="jha">
      <ion-icon name="thumbs-down-outline" slot="start" class="all-icon"></ion-icon>
      <ion-label class="Encry">Report user</ion-label>
    </ion-item>
  </ion-list>
</ion-content>